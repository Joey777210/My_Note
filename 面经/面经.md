# 实习春招

## 淘系拍卖

### 一面 挂

1. 分布式唯一ID集群设计，并发情况处理
2. Dubbo服务暴露
3. RocketMQ消息堆积的处理
4. 线程池的参数，调优原则
5. 讲讲GC
6. 有没有调过GC参数
7. 新生代过大或者过小会发生什么问题
8. Spring Bean的生命周期
9. 别的忘了

## 蚂蚁

### 提前批 过

1. 聊风控项目
2. 分布式唯一ID怎么生成的，几种方案，优缺点
3. RocketMQ消费失败怎么办，消费之后应用内处理失败要重新消费怎么办
4. 业务并发量有多大
5. 乐观锁和悲观锁的区别，使用场景
6. MySQL索引数据结构
7. 为什么不用B树
8. JVM内存区域划分
9. 内存区域分别是线程共享的还是线程私有的
10. 线程状态，转换
11. waiting和blocked的区别
12. Spring的循环依赖是怎么解决的
13. 集合框架有哪些接口

### 一面 过

1. 线程池配置

2. 线程池运作方式，以及有什么好处

3. 线程通信的方式

4. 你实际使用过的线程通信的场景

5. 项目中为什么要用乐观锁不用悲观锁

6. 分页查询优化的方法

7. MQ如果消息丢失或者消息重复怎么解决，都有哪些方面会产生消息丢失，不依赖MQ的功能的话要怎么解决

8. Dubbo消费端是长连接还是短链接，消费端线程模型（这里看一下Dubbo协议整个的线程模型）

9. JVM调优有没有做过，怎么解决线上Full GC频繁的问题

10. Redis缓存的题目：微博发给用户推送短链接，但实际上服务器调用时是长链接，怎么设计中间转换时的缓存

    **多级缓存**，缓存的几个问题以及解决方案

### 二面 过

1. 为什么转专业
2. 计算机方面的学习经历，看过哪些书
3. 什么时候开始学的Java
4. 学习过程中解决了什么有难度的问题，或者感悟最多的问题
5. 讲一下线程池配置有哪些参数，它们之间有什么关系
6. TCP为什么三次握手
7. 为什么要用分布式唯一ID + 分布式锁？ 直接用MySQL唯一索引不可以吗？
8. 怎么实现事务？SQL中是怎么实现的？代码中怎么实现？Spring中怎么实现？
9. 项目是你设计的还是部门领导设计你编码的？

## AliExpress

### 提前面

1. 介绍一下自己的项目

2. 为什么要用MQ异步

3. 介绍项目架构，以及自己所处的位置

4. 重构都做了什么事，之前是什么样子，重构之后解决了什么问题，变成了什么样子

5. 数据表有哪些方面的改进

6. 介绍一下MySQL

7. 介绍一下RocketMQ

8. MySQL什么情况下会产生死循环，以及死循环发生的原因

9. HashMap的底层数据结构，什么时候会产生死锁

10. 介绍一下JVM

11. RocketMQ的架构

12. RocketMQ为什么快，是怎么存储数据的，是怎么发送数据的，什么IO模型

13. RocketMQ集群是怎么部署的，如果主节点挂了，数据丢失怎么办

14. 分布式锁？ZK实现分布式锁是怎么样的？

15. ZK设置的临时节点为什么能保证唯一？synchronized + set判重 https://blog.csdn.net/chixie5031/article/details/100649496

    

## 腾讯CDG

### 一面

1. 介绍项目
2. 风控调用接口怎么保证安全（模仿HTTPS）
3. 数据怎么保证安全（脱敏，加密）
4. 怎么保证幂等性
5. 补单是怎么补的，如果业务方给了重复的订单过来，但是内容是不同的，比如第一次支付50第二次100，风控怎么怎么返回（重复调用，并返回订单状态）
6. 物联网项目，接入鉴权是怎么做的？一型一密
7. OAuth 2.0？
8. HTTP三次握手
9. 为什么不是两次，四次？
10. 三次握手中SYN队列，ACCEPT队列的状态。
11. 如果客户端故意不发第三次ACK怎么办（SYN泛洪攻击）
12. HTTPS讲一下
13. 数字证书是怎么验证“我是我”的？（在这个场景下面试官问的是，风控对应的业务方怎么证明自己是自己）
14. TCP粘包是怎么发生的，怎么解决？
15. 进程和线程的区别，进程之间的通信机制，哪个通信机制最快？
16. Select和epoll的区别
17. ET LT讲一下
18. InnoDB和MyISAM的区别
19. 事务隔离机制
20. 幻读是怎么解决的
21. 什么是双亲委派机制？怎么打破双亲委派？
22. Synchronized的实现原理，锁升级，锁粗化，锁自旋和自适应自旋，moniter
23. HashMap和Hashtable的区别？为什么Hashtable不推荐使用了？推荐使用哪个？
24. Mysql主从同步有几种方式？
25. 多主情况下数据怎么同步？怎么保证数据一致性？
26. 在金融支付这种强一致性的场景下，一般采用哪种方式去做？
27. Redis的持久化方式？分别的特点？使用场景？
28. 分布式锁怎么实现？加锁的应用挂掉了，怎么解锁？
29. 算法题：数组A，数组B，A中包含B中所有的数据，现在要生成一个数组C，里面是A中数据去掉B中数据，怎么做？一开始写了个HashSet，时间复杂度还忘了。。面试官问怎么降低在B中查找数据的复杂度？可以用Bitmap或者哈希，将查找降低为O(1)。

### 二面（挂）

1. C/C++语言怎么保证include的包是不重复的
2. 动态链接和静态链接的区别
3. MySQL主从同步
4. SELECT FOR UPDATE 会产生什么锁
5. MySQL什么时候会锁表
6. 分布式唯一ID
7. 物联网平台怎么保证接入鉴权时不是别人冒用的假设备？
8. 设备接受的指令如何保证是平台发过来的而不是黑客发出的？

### 被捞一面

直接上来就给了一个文件，里面六道题

1. 请求一个HTTP接口，返回一个JSON，解析JSON到对应对象里，并且修改其中的数字为减号，然后存在文件里
2. 设计一个HTTP接口，让老师和学生的权限分开，学生只能看到自己的信息，老师可以看到所有学生的信息
3. 123456789.123转成中文大写
4. SQL，两张表，联查
5. 斐波那契
6. 快速排序



## 字节

### 一面

1. 为什么用线程池来做异步，量这么小为什么不每个请求开一个线程？线程池是一个很重的方式吗？
2. 线程池的各个参数怎么配置的，**拒绝策略在项目里是怎么配置的**？
3. ZK做分布式锁？是怎么做的？
4. Redis用过什么？用过什么字段？
5. 乐观锁在这里为什么存在？
6. 设计一个数据表，存储多级评论，字段怎么设计，类型是什么
7. 查询某条评论的子评论中，点赞数量前十的评论
8. 给这张表加索引
9. RocketMQ怎么保证数据可靠性不丢失的？
10. 算法题：求1~n的数字中，连续和为target的所有连续子序列

### 二面

1. MQTT是什么协议？为什么低功耗？
2. 物联网项目里的map是什么？和ConcurrentHashMap有什么区别？
3. go语言 slice底层是什么结构？
4. TCP粘包是什么？怎么解决？
5. 分布式唯一ID怎么实现的？雪花算法是什么？
6. **雪花算法怎么解决时钟回拨的？**
7. 分布式锁怎么实现的？ZK？Redis？
8. 穿透怎么解决的？大量数据库不存在的Key访问击穿怎么解决的？
9. **Dubbo的架构是什么样的？Dubbo集群是怎么工作的？**集群容错 + 负载均衡
10. **Redis Hash类型底层数据结构是什么？ZSet底层数据结构是什么？**
11. 跳表为什么可以实现O(logN)的查询复杂度？用了什么思想？
12. 乐观锁和悲观锁的区别？场景？（我们的场景并发小，很少碰撞，所以用无锁CAS方式比较合适）
13. 写过什么设计模式？
14. **说一说工厂模式，工厂模式产生的东西有什么共同点？**
15. 写一个懒汉的单例模式
16. 算法题：各种面额的钱，可以无限重用，有多少种方式可以凑成目标数额